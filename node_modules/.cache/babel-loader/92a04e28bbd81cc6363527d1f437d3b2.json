{"remainingRequest":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\src\\components\\CategorySelect\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\src\\components\\CategorySelect\\index.vue","mtime":1662618612217},{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\babel.config.js","mtime":1662103635333},{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662108539732},{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\babel-loader\\lib\\index.js","mtime":1662108541364},{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1662108539732},{"path":"C:\\Users\\abcwu\\Desktop\\小黑\\Learn\\Gitee\\sgg_houtai\\node_modules\\vue-loader\\lib\\index.js","mtime":1662108544456}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IHsgcmVxQ2F0ZWdvcnkxTGlzdCwgcmVxQ2F0ZWdvcnkyTGlzdCwgcmVxQ2F0ZWdvcnkzTGlzdCwgcmVxQXR0ckxpc3QgfSBmcm9tICJAL2FwaS9wcm9kdWN0L2F0dHIuanMiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIkNhdGVnb3J5U2VsZWN0IiwKICBwcm9wczogWyJpc0NsaWNrIl0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGZvcm1JbmxpbmU6IHsKICAgICAgICBjYXRlZ29yeTFJZDogIiIsCiAgICAgICAgY2F0ZWdvcnkySWQ6ICIiLAogICAgICAgIGNhdGVnb3J5M0lkOiAiIgogICAgICB9LAogICAgICBjYXRlZ29yeTFMaXN0OiBbXSwKICAgICAgY2F0ZWdvcnkyTGlzdDogW10sCiAgICAgIGNhdGVnb3J5M0xpc3Q6IFtdLAogICAgICBhdHRyTGlzdDogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy5nZXRDYXRlZ29yeTFJZCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0Q2F0ZWdvcnkxSWQ6IGZ1bmN0aW9uIGdldENhdGVnb3J5MUlkKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmVxQ2F0ZWdvcnkxTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzLmNhdGVnb3J5MUxpc3QgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldENhdGVnb3J5MklkOiBmdW5jdGlvbiBnZXRDYXRlZ29yeTJJZCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmF0dHJMaXN0ID0gW107CiAgICAgIHRoaXMuJGVtaXQoImdldEF0dHJMaXN0IiwgdGhpcy5hdHRyTGlzdCk7CiAgICAgIHRoaXMuZm9ybUlubGluZS5jYXRlZ29yeTJJZCA9ICIiOwogICAgICB0aGlzLmZvcm1JbmxpbmUuY2F0ZWdvcnkzSWQgPSAiIjsKICAgICAgcmVxQ2F0ZWdvcnkyTGlzdCh0aGlzLmZvcm1JbmxpbmUuY2F0ZWdvcnkxSWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIuY2F0ZWdvcnkyTGlzdCA9IHJlcy5kYXRhOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgZ2V0Q2F0ZWdvcnkzSWQ6IGZ1bmN0aW9uIGdldENhdGVnb3J5M0lkKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHRoaXMuYXR0ckxpc3QgPSBbXTsKICAgICAgdGhpcy4kZW1pdCgiZ2V0QXR0ckxpc3QiLCB0aGlzLmF0dHJMaXN0KTsKICAgICAgdGhpcy5mb3JtSW5saW5lLmNhdGVnb3J5M0lkID0gIiI7CiAgICAgIHJlcUNhdGVnb3J5M0xpc3QodGhpcy5mb3JtSW5saW5lLmNhdGVnb3J5MklkKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMzLmNhdGVnb3J5M0xpc3QgPSByZXMuZGF0YTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGdldEF0dHJMaXN0OiBmdW5jdGlvbiBnZXRBdHRyTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICB2YXIgX3RoaXMkZm9ybUlubGluZSA9IHRoaXMuZm9ybUlubGluZSwKICAgICAgICAgIGNhdGVnb3J5MUlkID0gX3RoaXMkZm9ybUlubGluZS5jYXRlZ29yeTFJZCwKICAgICAgICAgIGNhdGVnb3J5MklkID0gX3RoaXMkZm9ybUlubGluZS5jYXRlZ29yeTJJZCwKICAgICAgICAgIGNhdGVnb3J5M0lkID0gX3RoaXMkZm9ybUlubGluZS5jYXRlZ29yeTNJZDsKICAgICAgcmVxQXR0ckxpc3QoY2F0ZWdvcnkxSWQsIGNhdGVnb3J5MklkLCBjYXRlZ29yeTNJZCkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzKTsKICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXM0LmF0dHJMaXN0ID0gcmVzLmRhdGE7CgogICAgICAgICAgX3RoaXM0LiRlbWl0KCJnZXRBdHRyTGlzdCIsIF90aGlzNC5hdHRyTGlzdCk7CgogICAgICAgICAgX3RoaXM0LiRlbWl0KCJnZXRDYXRlZ29yeTNJZCIsIF90aGlzNC5mb3JtSW5saW5lLmNhdGVnb3J5M0lkKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyDA,SACAA,gBADA,EAEAC,gBAFA,EAGAC,gBAHA,EAIAC,WAJA,QAKA,uBALA;AAMA;EACAC,sBADA;EAEAC,kBAFA;EAGAC,IAHA,kBAGA;IACA;MACAC;QACAC,eADA;QAEAC,eAFA;QAGAC;MAHA,CADA;MAMAC,iBANA;MAOAC,iBAPA;MAQAC,iBARA;MASAC;IATA;EAWA,CAfA;EAgBAC,OAhBA,qBAgBA;IACA;EACA,CAlBA;EAmBAC;IACAC,cADA,4BACA;MAAA;;MACAjB;QACA;QACA;UACA;QACA;MACA,CALA;IAMA,CARA;IASAkB,cATA,4BASA;MAAA;;MACA;MACA;MACA;MACA;MACAjB;QACA;UACA;QACA;MACA,CAJA;IAKA,CAnBA;IAoBAkB,cApBA,4BAoBA;MAAA;;MACA;MACA;MACA;MACAjB;QACA;UACA;QACA;MACA,CAJA;IAKA,CA7BA;IA8BAkB,WA9BA,yBA8BA;MAAA;;MACA;MAAA;MAAA;MAAA;MACAjB;QACA;QACA;UACA;;UACA;;UACA;QACA;MACA,CAPA;IAQA;EAxCA;AAnBA","names":["reqCategory1List","reqCategory2List","reqCategory3List","reqAttrList","name","props","data","formInline","category1Id","category2Id","category3Id","category1List","category2List","category3List","attrList","mounted","methods","getCategory1Id","getCategory2Id","getCategory3Id","getAttrList"],"sourceRoot":"src/components/CategorySelect","sources":["index.vue"],"sourcesContent":["<template>\r\n  <div>\r\n    <el-form :inline=\"true\" :model=\"formInline\" class=\"demo-form-inline\">\r\n      <el-form-item label=\"一级分类\">\r\n        <el-select\r\n          v-model=\"formInline.category1Id\"\r\n          placeholder=\"请选择\"\r\n          @change=\"getCategory2Id\"\r\n          :disabled=\"!isClick\"\r\n        >\r\n          <!-- v-for=\"(item,index) in \" -->\r\n          <el-option\r\n            v-for=\"(item, index) in category1List\"\r\n            :value=\"item.id\"\r\n            :label=\"item.name\"\r\n            :key=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"二级分类\">\r\n        <el-select\r\n          v-model=\"formInline.category2Id\"\r\n          placeholder=\"请选择\"\r\n          @change=\"getCategory3Id\"\r\n          :disabled=\"!formInline.category1Id || !isClick\"\r\n        >\r\n          <el-option\r\n            :label=\"item.name\"\r\n            v-for=\"(item, index) in category2List\"\r\n            :key=\"item.id\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <el-form-item label=\"三级分类\">\r\n        <el-select\r\n          v-model=\"formInline.category3Id\"\r\n          placeholder=\"请选择\"\r\n          @change=\"getAttrList\"\r\n          :disabled=\"!formInline.category2Id || !isClick\"\r\n        >\r\n          <el-option\r\n            :label=\"item.name\"\r\n            v-for=\"(item, index) in category3List\"\r\n            :key=\"item.id\"\r\n            :value=\"item.id\"\r\n          ></el-option>\r\n        </el-select>\r\n      </el-form-item>\r\n      <!-- <el-form-item>\r\n        <el-button type=\"primary\" @click=\"onSubmit\">查询</el-button>\r\n      </el-form-item> -->\r\n    </el-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport {\r\n  reqCategory1List,\r\n  reqCategory2List,\r\n  reqCategory3List,\r\n  reqAttrList,\r\n} from \"@/api/product/attr.js\";\r\nexport default {\r\n  name: \"CategorySelect\",\r\n  props: [\"isClick\"],\r\n  data() {\r\n    return {\r\n      formInline: {\r\n        category1Id: \"\",\r\n        category2Id: \"\",\r\n        category3Id: \"\",\r\n      },\r\n      category1List: [],\r\n      category2List: [],\r\n      category3List: [],\r\n      attrList: [],\r\n    };\r\n  },\r\n  mounted() {\r\n    this.getCategory1Id();\r\n  },\r\n  methods: {\r\n    getCategory1Id() {\r\n      reqCategory1List().then((res) => {\r\n        // console.log(res);\r\n        if (res.code === 200) {\r\n          this.category1List = res.data;\r\n        }\r\n      });\r\n    },\r\n    getCategory2Id() {\r\n      this.attrList = [];\r\n      this.$emit(\"getAttrList\", this.attrList);\r\n      this.formInline.category2Id = \"\";\r\n      this.formInline.category3Id = \"\";\r\n      reqCategory2List(this.formInline.category1Id).then((res) => {\r\n        if (res.code === 200) {\r\n          this.category2List = res.data;\r\n        }\r\n      });\r\n    },\r\n    getCategory3Id() {\r\n      this.attrList = [];\r\n      this.$emit(\"getAttrList\", this.attrList);\r\n      this.formInline.category3Id = \"\";\r\n      reqCategory3List(this.formInline.category2Id).then((res) => {\r\n        if (res.code === 200) {\r\n          this.category3List = res.data;\r\n        }\r\n      });\r\n    },\r\n    getAttrList() {\r\n      let { category1Id, category2Id, category3Id } = this.formInline;\r\n      reqAttrList(category1Id, category2Id, category3Id).then((res) => {\r\n        // console.log(res);\r\n        if (res.code === 200) {\r\n          this.attrList = res.data;\r\n          this.$emit(\"getAttrList\", this.attrList);\r\n          this.$emit(\"getCategory3Id\", this.formInline.category3Id);\r\n        }\r\n      });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}